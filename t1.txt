âœ… 2ï¸âƒ£ Flutter ìª½ (iOS ì•±)
âœ… (1) Spring ì„œë²„ ì£¼ì†Œ ìƒìˆ˜
ğŸ“ ìœ„ì¹˜
lib/config/api_config.dart


(ì—†ìœ¼ë©´ ìƒˆ íŒŒì¼ ìƒì„±)

ğŸ“„ íŒŒì¼ ë‚´ìš©
const String baseUrl =
    "https://animated-space-doodle-69x64p4766jwc5w55-8080.app.github.dev";

âœ… (2) Spring API í˜¸ì¶œ í•¨ìˆ˜
ğŸ“ ìœ„ì¹˜
lib/api/store_api.dart


(ì—†ìœ¼ë©´ ìƒˆ íŒŒì¼ ìƒì„±)

ğŸ“„ íŒŒì¼ ì „ì²´ ì½”ë“œ
import 'dart:convert';
import 'package:http/http.dart' as http;
import '../config/api_config.dart';

Future<List<dynamic>> fetchStores(double lat, double lng) async {
  final url = "$baseUrl/location/stores?lat=$lat&lng=$lng";

  final response = await http.get(Uri.parse(url));

  if (response.statusCode == 200) {
    final data = json.decode(response.body);
    return data["documents"]; // âœ… ì¹´ì¹´ì˜¤ JSONì˜ documents ë°°ì—´
  } else {
    throw Exception("Spring ì„œë²„ ì˜¤ë¥˜: ${response.statusCode}");
  }
}

âœ… (3) ì§€ë„ í˜ì´ì§€ (ë„¤ê°€ ë°©ê¸ˆ ì˜¬ë¦° ì½”ë“œê°€ ë“¤ì–´ê°ˆ íŒŒì¼)
ğŸ“ ìœ„ì¹˜ âœ… (ê°€ì¥ ì¤‘ìš”)
lib/pages/map_page.dart

ğŸ“„ íŒŒì¼ ì „ì²´ ì½”ë“œ
import 'dart:convert';
import 'package:flutter/material.dart';
import 'package:webview_flutter/webview_flutter.dart';
import '../api/store_api.dart';

class MapPage extends StatefulWidget {
  const MapPage({super.key});

  @override
  State<MapPage> createState() => _MapPageState();
}

class _MapPageState extends State<MapPage> {
  late final WebViewController controller;

  @override
  void initState() {
    super.initState();

    controller = WebViewController()
      ..setJavaScriptMode(JavaScriptMode.unrestricted)
      ..loadFlutterAsset("assets/map.html");

    loadMarkers();
  }

  Future<void> loadMarkers() async {
    final stores = await fetchStores(37.4979, 127.0276);

    final js = "drawMarkers(${jsonEncode(stores)});";
    await controller.runJavaScript(js);
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: const Text("ë‚´ ì£¼ë³€ ë§›ì§‘")),
      body: WebViewWidget(controller: controller),
    );
  }
}

âœ… (4) main.dartì—ì„œ MapPage ì—°ê²°
ğŸ“ ìœ„ì¹˜
lib/main.dart

ğŸ“„ íŒŒì¼ ì „ì²´ ì½”ë“œ ì˜ˆì‹œ
import 'package:flutter/material.dart';
import 'pages/map_page.dart';

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return const MaterialApp(
      debugShowCheckedModeBanner: false,
      home: MapPage(), // âœ… ì§€ë„ í˜ì´ì§€ ì—°ê²°
    );
  }
}

âœ… (5) WebViewì—ì„œ ì‚¬ìš©í•  HTML
ğŸ“ ìœ„ì¹˜
assets/map.html


(â€» ì´ íŒŒì¼ ì•ˆì—ëŠ” ì¹´ì¹´ì˜¤ ì§€ë„ JS SDK + drawMarkers í•¨ìˆ˜ê°€ ë“¤ì–´ê°€ ìˆì–´ì•¼ í•¨)

âœ… (6) pubspec.yamlì— assets ë“±ë¡
ğŸ“ ìœ„ì¹˜
pubspec.yaml

ğŸ“„ ì¶”ê°€
flutter:
  assets:
    - assets/map.html

âœ… (7) Flutter í•„ìˆ˜ íŒ¨í‚¤ì§€
ğŸ“ ìœ„ì¹˜
pubspec.yaml

ğŸ“„ dependencies
dependencies:
  flutter:
    sdk: flutter
  http: ^1.2.0
  webview_flutter: ^4.7.0

âœ… 3ï¸âƒ£ ìµœì¢… ì „ì²´ ì—°ê²° íë¦„ (íŒŒì¼ ê¸°ì¤€)
[Flutter]
lib/main.dart
 â†’ lib/pages/map_page.dart
   â†’ lib/api/store_api.dart
     â†’ Spring ì„œë²„ í˜¸ì¶œ (/location/stores)

[Spring]
LocationController.java
 â†’ KakaoLocationService.java
   â†’ Kakao Local API í˜¸ì¶œ

âœ… ì§€ê¸ˆ ë„¤ê°€ í•´ì•¼ í•  ì²´í¬ë¦¬ìŠ¤íŠ¸ (íŒŒì¼ ê¸°ì¤€)

âœ… LocationController.java ìƒì„±ë¨

âœ… KakaoLocationService.java static ì œê±°ë¨

âœ… application.ymlì— kakao.key ìˆìŒ

âœ… lib/pages/map_page.dart ìƒì„±ë¨

âœ… lib/api/store_api.dart ìƒì„±ë¨

âœ… assets/map.html ì¡´ì¬

âœ… pubspec.yamlì— assets ë“±ë¡

âœ… main.dartì—ì„œ MapPage() ì—°ê²°

ğŸ”¥ ì§€ê¸ˆ ë”± ì´ê²ƒë§Œ ì•Œë ¤ì¤˜

1ï¸âƒ£ Flutter ì‹¤í–‰ ì‹œ ì—ëŸ¬ ë©”ì‹œì§€(ìˆë‹¤ë©´) ì „ì²´
2ï¸âƒ£ Spring ì„œë²„ ì‹¤í–‰ ë¡œê·¸ì— ì—ëŸ¬ ìˆëŠ”ì§€
3ï¸âƒ£ /location/stores ì£¼ì†Œë¥¼ PC ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ ì—´ì—ˆì„ ë•Œ JSONì´ ëœ¨ëŠ”ì§€

ì´ 3ê°œë§Œ ì£¼ë©´,
âœ… Flutter ë¬¸ì œì¸ì§€
âœ… Spring ë¬¸ì œì¸ì§€
âœ… ë„¤íŠ¸ì›Œí¬/CORS ë¬¸ì œì¸ì§€
ë”± ì§‘ì–´ì„œ ë°”ë¡œ ê³ ì³ì¤„ê²Œ.

ì¢‹ì€ ì§€ì ì´ì•¼ ğŸ‘
ë§ì•„, assets/map.htmlì˜ â€œì‹¤ì œ ë‚´ìš©â€ì„ ë‚´ê°€ ë¹ ëœ¨ë ¸ì–´.
ì´ íŒŒì¼ì´ ì—†ìœ¼ë©´ Flutter WebViewëŠ” ì§€ë„ë¥¼ ì ˆëŒ€ ëª» ë„ìš´ë‹¤.
ê·¸ë˜ì„œ ì§€ê¸ˆ ë°”ë¡œ ê·¸ëŒ€ë¡œ ë³µë¶™í•´ì„œ ì“°ë©´ ë˜ëŠ” assets/map.html ì „ì²´ ì½”ë“œë¥¼ ì •í™•í•˜ê²Œ ì¤„ê²Œ âœ…

âœ… âœ… 1ï¸âƒ£ assets/map.html ìµœì¢… ì™„ì„±ë³¸ (ê·¸ëŒ€ë¡œ ì‚¬ìš© ê°€ëŠ¥)
ğŸ“ ìœ„ì¹˜
assets/map.html

ğŸ“„ íŒŒì¼ ì „ì²´ ë‚´ìš© âœ…
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>My Taste Map</title>

  <style>
    html, body, #map {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
    }
  </style>

  <!-- âœ… ì¹´ì¹´ì˜¤ ì§€ë„ JavaScript SDK -->
  <!-- â— ë°˜ë“œì‹œ JavaScript Keyë¥¼ ì‚¬ìš©í•´ì•¼ í•¨ -->
  <script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=ì—¬ê¸°ì—_ë„¤_JS_í‚¤"></script>
</head>

<body>
  <div id="map"></div>

  <script>
    // âœ… ì§€ë„ ì´ˆê¸°í™” (ê¸°ë³¸ ì¤‘ì‹¬: ê°•ë‚¨)
    var map = new kakao.maps.Map(document.getElementById('map'), {
      center: new kakao.maps.LatLng(37.4979, 127.0276),
      level: 4
    });

    // âœ… Flutterì—ì„œ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜
    // places = Spring â†’ Kakao API â†’ documents ë°°ì—´
    function drawMarkers(places) {
      for (var i = 0; i < places.length; i++) {
        var p = places[i];

        var marker = new kakao.maps.Marker({
          map: map,
          position: new kakao.maps.LatLng(p.y, p.x)
        });

        // âœ… ë§ˆì»¤ í´ë¦­ ì‹œ ê°€ê²Œ ì´ë¦„ í‘œì‹œ
        var info = new kakao.maps.InfoWindow({
          content:
            '<div style="padding:5px;font-size:12px;">' +
            p.place_name +
            '</div>'
        });

        kakao.maps.event.addListener(marker, 'click', (function(marker, info) {
          return function() {
            info.open(map, marker);
          }
        })(marker, info));
      }
    }
  </script>
</body>
</html>

âœ… âœ… 2ï¸âƒ£ ì—¬ê¸°ì„œ ë°˜ë“œì‹œ ë„¤ê°€ í•´ì•¼ í•  ê²ƒ (ì¤‘ìš” â—)
ğŸ”¥ ì´ ë¶€ë¶„ì„ ë„¤ ì¹´ì¹´ì˜¤ JavaScript í‚¤ë¡œ êµì²´í•´ì•¼ í•¨
<script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=ì—¬ê¸°ì—_ë„¤_JS_í‚¤"></script>


â¬‡ï¸ ì´ë ‡ê²Œ ë°”ê¿”ì•¼ ì •ìƒ ë™ì‘í•¨:

<script src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=abc123...ë„¤JSí‚¤...xyz"></script>


âœ… ì´ í‚¤ëŠ”:

ì¹´ì¹´ì˜¤ ê°œë°œì ì½˜ì†” â†’ ì•± â†’ ì•± ì„¤ì • â†’ ì•± í‚¤ â†’ JavaScript Key


ì—ì„œ ë³µì‚¬í•˜ëŠ” í‚¤ì•¼
(REST API í‚¤ âŒ / JS í‚¤ âœ…)

âœ… âœ… 3ï¸âƒ£ pubspec.yamlì— assets ë“±ë¡í–ˆëŠ”ì§€ë„ ê¼­ í™•ì¸
flutter:
  assets:
    - assets/map.html


ë“±ë¡ ì•ˆ í•˜ë©´:

Unable to load asset: assets/map.html


ì—ëŸ¬ ë‚¨.

âœ… âœ… 4ï¸âƒ£ ì´ê²Œ ì™œ ë°˜ë“œì‹œ í•„ìš”í•œ íŒŒì¼ì´ëƒë©´

ì´ êµ¬ì¡° ë•Œë¬¸ì´ì•¼:

Flutter (Dart)
 â†’ WebView
   â†’ assets/map.html ë¡œë“œ
     â†’ Kakao JS SDK ì‹¤í–‰
     â†’ drawMarkers() í•¨ìˆ˜ ì •ì˜
       â†’ Flutterì—ì„œ JavaScript í˜¸ì¶œ


ğŸ‘‰ ì¦‰, ì´ HTMLì´ â€œì§€ë„ ì—”ì§„ ê·¸ ìì²´â€ ì—­í• ì„ í•˜ëŠ” í•µì‹¬ íŒŒì¼ì„.

âœ… âœ… ì§€ê¸ˆ ë„¤ê°€ ë°”ë¡œ í™•ì¸í•´ì•¼ í•  ê²ƒ 3ê°€ì§€

1ï¸âƒ£ assets/map.html íŒŒì¼ ì‹¤ì œë¡œ ìƒì„±í–ˆëŠ”ì§€
2ï¸âƒ£ JS í‚¤ë¥¼ ì—¬ê¸°ì—_ë„¤_JS_í‚¤ ìë¦¬ì— ë„£ì—ˆëŠ”ì§€
3ï¸âƒ£ pubspec.yamlì— assets/map.html ë“±ë¡í–ˆëŠ”ì§€

ğŸ”¥ ë‹¤ìŒ ë‹¨ê³„ë¡œ ë°”ë¡œ ê°€ë ¤ë©´ ì´ê±°ë§Œ ì•Œë ¤ì¤˜

ì•„ë˜ ì¤‘ í•˜ë‚˜ë§Œ ê·¸ëŒ€ë¡œ ë‹µí•´ì¤˜ âœ…

âœ… assets/map.html ë§Œë“¤ì—ˆê³  JS í‚¤ë„ ë„£ì—ˆë‹¤

âŒ JS í‚¤ê°€ ì–´ë”” ìˆëŠ”ì§€ ì•„ì§ ëª» ì°¾ì•˜ë‹¤

âŒ WebViewê°€ í•˜ì–€ í™”ë©´ìœ¼ë¡œë§Œ ë‚˜ì˜¨ë‹¤

ğŸ‘‰ ê·¸ ìƒíƒœì— ë§ì¶°ì„œ iOSì—ì„œ ì‹¤ì œë¡œ ì§€ë„ ëœ¨ê²Œ ë§Œë“œëŠ” ë§ˆì§€ë§‰ ë””ë²„ê¹…ê¹Œì§€ ê°™ì´ ëë‚´ì¤„ê²Œ.

ì¢‹ì•„, ì´ ì—ëŸ¬ëŠ” pubspec.yamlì—ì„œ ë“¤ì—¬ì“°ê¸°(êµ¬ì¡°)ë¥¼ ì˜ëª» ì¨ì„œ ìƒê¸´ 100% ë¬¸ë²• ì˜¤ë¥˜ì•¼.
ë©”ì‹œì§€ í•µì‹¬ì€ ì´ê±°ì•¼:

âŒ A dependency may only have one source
â†’ dependencies ì•ˆì— assetsë¥¼ ë„£ì–´ë²„ë ¸ë‹¤ëŠ” ëœ»

âœ… âŒ ì§€ê¸ˆ ë„¤ê°€ ì˜ëª» ì“´ êµ¬ì¡° (ì¶”ì •)

ì—ëŸ¬ ìœ„ì¹˜ë¥¼ ë³´ë©´ ì§€ê¸ˆ ì´ëŸ° í˜•íƒœì¼ ê°€ëŠ¥ì„±ì´ ë†’ì•„:

dependencies:
  flutter:
    sdk: flutter
    assets:              # âŒ ì—¬ê¸°ì— assetsë¥¼ ë„£ì–´ì„œ í„°ì§
    - assets/map.html
  webview_flutter: ^4.7.0


ì´ê±´ ì™„ì „íˆ ì˜ëª»ëœ êµ¬ì¡°ì•¼.

assetsëŠ” dependencies ì•ˆì— ë“¤ì–´ê°€ë©´ ì•ˆ ë¨

flutter:ëŠ” dependencies ë°”ê¹¥ì˜ ìµœìƒìœ„ í‚¤

âœ… âœ… ì •ìƒ ë™ì‘í•˜ëŠ” pubspec.yaml ì •ë‹µ í…œí”Œë¦¿ (ê·¸ëŒ€ë¡œ ë®ì–´ì¨ë„ ë¨)

ì•„ë˜ë¥¼ ë„¤ pubspec.yamlì— ê·¸ëŒ€ë¡œ ë³µë¶™í•´ì„œ ë®ì–´ì¨ë„ ëœë‹¤ âœ…

name: team_calendar_app
description: A new Flutter project.

publish_to: 'none'

version: 1.0.0+1

environment:
  sdk: '>=3.0.0 <4.0.0'

dependencies:
  flutter:
    sdk: flutter

  http: ^1.2.0
  webview_flutter: ^4.7.0

dev_dependencies:
  flutter_test:
    sdk: flutter

  flutter_lints: ^3.0.0

flutter:
  uses-material-design: true

  assets:
    - assets/map.html

âœ… âœ… ê·¸ë¦¬ê³  ë°˜ë“œì‹œ ì´ ìˆœì„œë¡œ ë‹¤ì‹œ ì‹¤í–‰í•´
flutter clean
flutter pub get

âœ… ë§Œì•½ ë˜ ì—ëŸ¬ê°€ ë‚œë‹¤ë©´

ê·¸ê±´ ë“¤ì—¬ì“°ê¸° ê³µë°±(ìŠ¤í˜ì´ìŠ¤) ë˜ëŠ” íƒ­ ë¬¸ì œì•¼.
ê·¸ëŸ´ ë• ë„¤ pubspec.yaml ì „ì²´ë¥¼ ê·¸ëŒ€ë¡œ ë³µë¶™í•´ì„œ ë³´ë‚´ì¤˜.
â†’ ë‚´ê°€ ë¬¸ì ë‹¨ìœ„ë¡œ ì •í™•í•˜ê²Œ ê³ ì³ì¤„ê²Œ.

âœ… ìš”ì•½ (í•œ ì¤„)

âŒ assetsë¥¼ dependencies ì•ˆì— ë„£ì–´ì„œ ë‚œ ì˜¤ë¥˜
âœ… flutter: ìµœìƒìœ„ ì•„ë˜ë¡œ ì˜®ê¸°ë©´ 100% í•´ê²°

ì§€ê¸ˆ ì´ëŒ€ë¡œ ìˆ˜ì •í•˜ê³  flutter pub get ë‹¤ì‹œ ì‹¤í–‰í•´ë³´ê³ ,
ì„±ê³µí•˜ë©´ ì„±ê³µí–ˆë‹¤ê³ ë§Œ ë³´ë‚´ì¤˜.
â†’ ê·¸ ë‹¤ìŒ ë‹¨ê³„(iOS ì‹¤ê¸°ê¸°ì—ì„œ WebView + ì§€ë„ ëœ¨ëŠ”ì§€ í™•ì¸)ë¡œ ë°”ë¡œ ë„˜ì–´ê°€ì âœ…